# =====================================================
# MRI Upload System - Environment Variables
# =====================================================
# Copy this file to .env.local for local development
# Add these to Vercel Environment Variables for production
# =====================================================

# -----------------------------------------------------
# BACKEND API
# -----------------------------------------------------
# MindMate backend API URL
# Production: https://backend-emrj.onrender.com
# Local development: http://localhost:8000
NEXT_PUBLIC_API_URL=https://backend-emrj.onrender.com


# -----------------------------------------------------
# SUPABASE (Database & Auth)
# -----------------------------------------------------
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api

# Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Service role key (NEVER expose to client - server-side only!)
# Used for admin operations like bypassing RLS
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Anon/public key (safe to expose to client)
# NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here


# -----------------------------------------------------
# VERCEL BLOB STORAGE (MRI Files)
# -----------------------------------------------------
# Get this from: Vercel Dashboard > Storage > Blob > Connect Store
# https://vercel.com/docs/storage/vercel-blob

# Read/write token for uploading to Vercel Blob
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_AbCdEfGh1234567890

# Optional: Read-only token for downloading (use in frontend if needed)
# NEXT_PUBLIC_BLOB_READ_TOKEN=vercel_blob_r_AbCdEfGh1234567890


# -----------------------------------------------------
# MRI SYSTEM CONFIGURATION
# -----------------------------------------------------

# Demo doctor ID for testing (when doctorId is not provided)
# This should match the UUID in the migration seed (a0000000-0000-0000-0000-000000000001)
MRI_DEMO_DOCTOR_ID=a0000000-0000-0000-0000-000000000001


# -----------------------------------------------------
# AI MODEL ENDPOINTS (for MRI analysis)
# -----------------------------------------------------

# MRI Analysis Model API endpoint (AssemblyNet on EC2)
# Default: http://52.15.158.102:8001 (your EC2 instance)
MRI_ANALYSIS_MODEL_URL=http://52.15.158.102:8001

# API accepts: POST /upload (file, age, sex) -> returns job_id
# Then poll: GET /status/{job_id} -> returns analysis results


# -----------------------------------------------------
# OPTIONAL: CHAT/AGENT CONFIGURATION
# -----------------------------------------------------

# Doctor agent API endpoint (for chatbot context)
DOCTOR_AGENT_API_URL=http://localhost:8000/api/v1/chat

# API key for doctor agent
DOCTOR_AGENT_API_KEY=your-api-key-here


# -----------------------------------------------------
# OPTIONAL: WEBHOOK/BACKGROUND JOB CONFIGURATION
# -----------------------------------------------------

# Vercel Cron secret for triggering background MRI processing
CRON_SECRET=your-random-secret-here

# Webhook URL for MRI processing completion notifications
# MRI_PROCESSING_WEBHOOK_URL=https://your-app.vercel.app/api/webhooks/mri-completed


# -----------------------------------------------------
# DEVELOPMENT FLAGS
# -----------------------------------------------------

# Enable verbose logging for MRI uploads
# DEBUG_MRI_UPLOAD=true

# Skip MRI analysis (for testing upload flow only)
# SKIP_MRI_ANALYSIS=true


# =====================================================
# SECURITY NOTES
# =====================================================
# 1. NEVER commit .env.local to git (it's in .gitignore)
# 2. Rotate SUPABASE_SERVICE_ROLE_KEY regularly
# 3. Use Vercel Environment Variables for production
# 4. Enable Supabase RLS policies before production launch
# 5. Restrict BLOB_READ_WRITE_TOKEN scope to your domain
# =====================================================
